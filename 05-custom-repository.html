<section id="custom-repository">

    <section>
        <h2>Custom Repository</h2>
    </section>

    <section>
        <h3>Custom Repository</h3>
        <p>Il est possible d'ajouter des méthodes à un Repository en créant une classe qui hérite de la classe <code class="language-php">EntityRepository</code>.</p>
        <p>Pour cela il faut commencer par créer la classe :</p>
        <pre><code class="language-php">// Entity/Repository/MyEntityRepository.php
namespace Entity\Repository;

use Doctrine\ORM\EntityRepository;

class MyEntityRepository extends EntityRepository
{
    public function getCustomResults()
    {
        return $this->_em->createQuery("SELECT me FROM Entity\MyEntity me")->getResult();
    }
}</code></pre>
    </section>

    <section>
        <h3>Custom Repository</h3>
        <p>Puis ensuite il faut lier cette classe à son entité :</p>
        <div class="tabs-container">
            <ul class="tabs-buttons">
                <li data-tab="php-annotations">Annotations</li>
                <li data-tab="php-attributes">Attributs</li>
            </ul>
            <pre class="tabs-tab" data-tab="php-annotations"><code class="language-php">/**
* MyEntity
*
* @ORM\Table(name="my_entity")
* @ORM\Entity(repositoryClass="Entity\Repository\MyEntityRepository")
*/
class MyEntity
{
}</code></pre>
            <pre class="tabs-tab" data-tab="php-attributes"><code class="language-php">/**
* MyEntity
*/
#[ORM\Table(name: 'my_entity')]
#[ORM\Entity(repositoryClass: 'Entity\Repository\MyEntityRepository')]
class MyEntity
{
}</code></pre>
        </div>
    </section>

</section>